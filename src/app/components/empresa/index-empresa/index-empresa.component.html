<div class="d-flex flex-column flex-root">
  <div class="d-flex flex-row flex-column-fluid page">
      <app-sidebar></app-sidebar>
      <div class="d-flex flex-column flex-row-fluid wrapper" id="kt_wrapper">
          <app-top></app-top>

          <!--begin::Content-->
          <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
              <!--begin::Subheader-->
              <div class="subheader py-2 py-lg-4 subheader-solid" id="kt_subheader">
                  <div class="container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap">
                      <!--begin::Info-->
                      <div class="d-flex align-items-center flex-wrap mr-2">

                          <a href="#" class="btn btn-light-warning font-weight-bolder btn-sm" style="width: 150px ;height: 50px; align-content: center;">Crear Nuevo  Informe</a>
                          <!--end::Actions-->
                      </div>
                      <!--end::Info-->

                  </div>
              </div>

              <div class="d-flex flex-column-fluid">
                  <!--begin::Container-->
                  <div class="container">



                    <div class="card card-custom">

                      <div class="card-body">
                        <div class="container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap mb-4">
                          <!--begin::Info-->
                          <div class="d-flex align-items-center flex-wrap mr-2">

                            <a class="btn btn-primary" [routerLink]="['/empresa/create']" style="width: 200px; height: 50px; align-content: center; padding-left: 0;"> <strong class="strong"> + </strong> Nueva Empresa </a>
                              <!--end::Actions-->
                          </div>
                          <!--end::Info-->
                          <div class="input-group ml-30">


                            <input type="text" class="form-control" placeholder="Buscador general" name="filtro" [(ngModel)]="filtro" style="right: auto;">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" (click)="filtrar_empresa()">Buscar</button>
                            </div>

                          </div>

                      </div>
                          <!--begin: Search Form-->
                          <div class="mb-7" >



                              <div class="row align-items-center">

                                  <div class="col-lg-9 col-xl-8">

                                      <div  class="row justify-content-between">

                                          <div class="col-md-6 my-2 my-md-0">






                                      </div>
                                  </div>

                              </div>
                          </div>
                          <div class="row">
                              <div class="col-12">

                                  <div class="table-responsive">
                                      <table class="table table-head-custom table-head-bg table-borderless table-vertical-center">
                                          <thead>
                                              <tr class="text-left text-uppercase">
                                                  <th style="min-width: 250px" class="pl-7">
                                                      <span class="text-dark-75">Nombre</span>
                                                  </th>
                                                  <th style="min-width: 100px">Ciudad</th>

                                                  <th style="min-width: 100px">Estado</th>

                                                  <th style="min-width: 80px"></th>
                                              </tr>
                                          </thead>
                                          <tbody>
                                              <tr *ngFor="let empresa of empresas | paginate: { itemsPerPage: noOfRows, currentPage: page }">
                                                  <td class="pl-3 py-3">
                                                      <div class="d-flex align-items-center">
                                                          <div class="symbol symbol-40 flex-shrink-0 symbol-success mr-3">
                                                              <div class="symbol-label">{{empresa.empresa_nombre.substr(0,1)}}</div>
                                                          </div>
                                                          <div>
                                                              <a class="text-primary font-weight-bolder text-hover-primary mb-1 font-size-lg">
                                                                {{empresa.empresa_nombre}}
                                                              </a>
                                                              <span class="text-muted font-weight-bold d-block"></span>
                                                          </div>
                                                      </div>
                                                  </td>

                                                  <td>
                                                      <span class="text-dark-75 font-weight-bolder d-block font-size-lg">{{empresa.ciudad}}</span>

                                                  </td>
                                                  <td>
                                                    <span class="text-dark-75 font-weight-bolder d-block font-size-lg">{{empresa.estado}}</span>

                                                  </td>



                                                  <td class="pr-0 text-left">
                                                    <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                                                      <button type="button" class="btn btn-danger" data-toggle="modal" [attr.data-target]="'#delete-'+empresa.empresa_id" >Eliminar</button>

                                                      <button type="button" class="btn btn-success">Actualizar</button>
                                                    </div>
                                                    <!-- Inicio Modal -->
                                                    <div class="modal fade" id="delete-{{empresa.empresa_id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                      <div class="modal-dialog" role="document">
                                                          <div class="modal-content">
                                                              <div class="modal-header">
                                                                  <h5 class="modal-title" id="exampleModalLabel">Title Modal</h5>
                                                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                      <i aria-hidden="true" class="ki ki-close"></i>
                                                                  </button>
                                                              </div>
                                                              <div class="modal-body">
                                                                  <h5>Â¿Esta seguro de eliminar esta empresa? </h5>
                                                                  <p>Al eliminar esta empresa se borrarn todos los datos de forma permanente.</p>
                                                              </div>
                                                              <div class="modal-footer">
                                                                  <button type="button" class="btn btn-warning font-weight-bold" data-dismiss="modal"

                                                                  >Cerrar</button>
                                                                  <button type="button" class="btn btn-danger font-weight-bold"
                                                                  (click)="delete_empresa(empresa.empresa_id )"
                                                                  >Eliminar</button>


                                                              </div>
                                                          </div>
                                                      </div>
                                                    </div>
                                                    <!-- Fin Modal -->


                                                  </td>
                                              </tr>

                                          </tbody>

                                      </table>
                                  </div>
                                  <pagination-controls (pageChange)="page = $event"></pagination-controls>

                                  <pagination-template #p="paginationApi"
                                                      (pageChange)="page=($event)"
                                                      >

                                        <div class="form-group" [class.disabled]="p.isFirstPage()">
                                          <div class="item-par-page">



                                        </div>
                                        </div>





                                  </pagination-template>
                              </div>

                          </div>
                      </div>
                  </div>
                  </div>
                  <!--end::Container-->
              </div>
          </div>
          <!--end::Content-->
      </div>
  </div>
</div>

